@import model.SearchResponseList
@(models: SearchResponseList)

@main("YTLytics") {
    <section id="top">
        <div class="wrapper">
            <h1>Welcome to YTLytics</h1>
            <form method="get">
                <input name="query" placeholder="Enter search terms" required>
                <input type="hidden" name="sessionId" value="@models.getSessionID">
                <button type="submit">Go!</button>
            </form>
        </div>
    </section>

    <section id="results">
        <div class="wrapper">
        @if(models.getRequestModels().isEmpty()) {
            <p>No results found. Please enter a search term and try again.</p>
        } else {
            @for(searchReq <- models.getRequestModels()) {
                <div style="margin-top: 40px;">
                    @if(!searchReq.getResults().isEmpty) {
                        <h2>Search Results for term: @searchReq.getTitle()</h2>
                        <ul>
                        @for(result <- searchReq.getResults()) {
                            <div style="margin-top: 20px;">
                                <h3>
                                    <a href=@result.getVideoUrl target="_blank">@result.getTitle</a>
                                </h3>
                                <p>Channel: <a href= @result.getChannelId target="_blank">@result.getChannelTitle</a></p>
                                <p>Description: @result.getDescription</p>
                                <img src="@result.getThumbnailUrl" alt="Video Thumbnail" style="width: 120px; height: auto;" />
                            </div>
                        }
                        </ul>
                    }
                </div>
            }
        }
        </div>
    </section>
}
